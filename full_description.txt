Opening Range Breakout Strategy 

Strategy Overview:

Intraday opening range breakout strategy for SPY using a price-percentage trailing stop.


Key Components:

Opening Range Definition:

Uses the first 30 minutes of trading (9:30 AM - 10:00 AM)
Captures the 9:30 consolidated bar as the opening range reference
Calculates high and low of the opening range


Entry Logic:

- Long Entry: When price breaks above opening_bar.high + (OR_range × breakout_buffer)
- Short Entry: When price breaks below opening_bar.low - (OR_range × breakout_buffer)

Uses 100% of capital (full position)
Only enters if not already invested


Exit Logic (Price Percentage Trailing Stop):

- For Long Positions:
Tracks high water mark (highest price since entry)
Exits when price drops below high_water_mark - (high_water_mark × reversion_multiple)
Example: If high water mark = $100 and reversion_multiple = 1%, exits at $99

- For Short Positions:
Tracks low water mark (lowest price since entry)
Exits when price rises above low_water_mark + (low_water_mark × reversion_multiple)
Example: If low water mark = $100 and reversion_multiple = 1%, exits at $101

- Time-Based Exit:
Automatically closes all positions at 15:45 (3:45 PM) daily
Resets opening_bar to None for next day


Position Management:

Trades SPY only
Maximum one trade per day (opening_bar resets daily)
No re-entry after exit (until next day)


Parameters:

opening_range_minutes = 30: Duration of opening range
breakout_buffer = 1: Multiplier for breakout threshold (1.0 = full OR range)
reversion_multiple = 0.01: Exit threshold as percentage of price (1%)
exit_hour = 15, exit_minute = 45: Daily exit time
Strategy Philosophy:
Captures momentum after the opening range, using a percentage-based trailing stop that adapts to price movement rather than a fixed volatility measure.